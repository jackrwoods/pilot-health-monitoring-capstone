(this["webpackJsonpdata-visualization"]=this["webpackJsonpdata-visualization"]||[]).push([[0],[,,,,,,,,,,,,,,,function(t,n,e){},,,,function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){"use strict";e.r(n);var i=e(0),a=e(2),c=e.n(a),s=e(9),o=e.n(s),r=(e(15),e(1)),l=e(3),h=e(5),d=e(4),p=e(8),u=(e(19),e(20),function(t){Object(h.a)(e,t);var n=Object(d.a)(e);function e(){return Object(r.a)(this,e),n.apply(this,arguments)}return Object(l.a)(e,[{key:"render",value:function(){return Object(i.jsxs)("span",{class:"BigNumber",children:[this.props.children," ",this.props.uom]})}}]),e}(a.Component)),j=function(t){Object(h.a)(e,t);var n=Object(d.a)(e);function e(){return Object(r.a)(this,e),n.apply(this,arguments)}return Object(l.a)(e,[{key:"render",value:function(){var t=this.props.connection.connection?Object(i.jsx)("span",{style:{color:"rgb(4, 233, 61)"},children:"CON"}):Object(i.jsx)("span",{style:{color:"rgb(253, 6, 11)"},children:"CON FAIL"}),n=this.props.connection.server?Object(i.jsx)("span",{style:{color:"rgb(4, 233, 61)"},children:"SRV"}):Object(i.jsx)("span",{style:{color:"rgb(253, 6, 11)"},children:"SRV FAIL"}),e=this.props.connection.connection&&this.props.ping&&this.props.ping>15?Object(i.jsx)("span",{style:{color:"rgb(253, 6, 11)"},children:"LATC"}):Object(i.jsx)("span",{style:{color:"rgb(4, 233, 61)"},children:"LATC"});return Object(i.jsxs)("div",{children:[t," | ",n," | ",e]})}}]),e}(a.Component),g=e(6),b=(e(21),function(t){Object(h.a)(e,t);var n=Object(d.a)(e);function e(t){var i;return Object(r.a)(this,e),(i=n.call(this,t)).chartRef=c.a.createRef(),i.color=new g.a(255,255,255,1),i}return Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this,n=window.devicePixelRatio||1;this.chartCanvas=this.chartRef.current,this.chartCanvas.width=this.chartCanvas.clientWidth*n,this.chartCanvas.height=this.chartCanvas.clientHeight*n,this.line=new g.b(this.color,1e3),this.wglp=new g.c(this.chartCanvas),this.line.lineSpaceX(-1,.002),console.log(.002),this.wglp.addLine(this.line),setInterval((function(){for(var n=t.props.getData(),e=0;e<1e3;e++)t.line.setY(e,(n.data[e]-n.avg)/10);t.wglp.update()}),17)}},{key:"render",value:function(){return Object(i.jsxs)("div",{class:"grid-container",children:[Object(i.jsx)("div",{class:"canvas",children:Object(i.jsx)("canvas",{ref:this.chartRef,style:{display:"block",left:"0px",width:"100vw",height:.3*window.innerHeight+"px"},id:"my_canvas"})}),Object(i.jsx)("div",{class:"topLabel",children:this.props.getData().avg+10}),Object(i.jsx)("div",{class:"bottomLabel",children:this.props.getData().avg-10})]})}}]),e}(a.Component)),O=(e(22),function(t){Object(h.a)(e,t);var n=Object(d.a)(e);function e(){return Object(r.a)(this,e),n.apply(this,arguments)}return Object(l.a)(e,[{key:"render",value:function(){return Object(i.jsx)("div",{className:"Row",children:this.props.children})}}]),e}(a.Component)),v=function(t){Object(h.a)(e,t);var n=Object(d.a)(e);function e(){return Object(r.a)(this,e),n.apply(this,arguments)}return Object(l.a)(e,[{key:"render",value:function(){var t=Object(i.jsx)("span",{style:{color:"rgb(4, 233, 61)"},children:"UNSTR"}),n=this.props.data.HR.length,e=Object(i.jsx)("span",{style:{color:"rgb(4, 233, 61)"},children:"TRND \u2014"});if(n>2e3){var a=this.props.data.HR,c=a.slice(n/2,n-1).reduce((function(t,n){return t+n}))-a.slice(0,n/2).reduce((function(t,n){return t+n}));Math.abs(c)>.2&&(e=c>0?Object(i.jsx)("span",{style:{color:"rgb(252, 220, 39)"},children:"TRND \u25b2"}):Object(i.jsx)("span",{style:{color:"rgb(4, 233, 61)"},children:"TRND \u25bc"}))}return Object(i.jsxs)("span",{children:[t," | ",e]})}}]),e}(a.Component),f=(e(23),function(t){Object(h.a)(e,t);var n=Object(d.a)(e);function e(){return Object(r.a)(this,e),n.apply(this,arguments)}return Object(l.a)(e,[{key:"render",value:function(){return Object(i.jsx)("div",{className:"WarningPane",children:this.props.children})}}]),e}(a.Component)),x=function(t){Object(h.a)(e,t);var n=Object(d.a)(e);function e(t){var i;return Object(r.a)(this,e),(i=n.call(this,t)).pingClient=new p.w3cwebsocket("ws://10.3.141.1:8080/ping"),i.wsClient=new p.w3cwebsocket("ws://10.3.141.1:8080/data"),i.state={connection:{connection:!1,server:!1},data:{rawData:[],HR:[],avgHR:70,SpO2:[],avgSpO2:95},ping:{connectionPingMillis:[],avgConnectionPing:0,pingEpoch:Date.now()}},i}return Object(l.a)(e,[{key:"componentWillMount",value:function(){var t=this;this.wsClient.onopen=function(){console.log("Data WebSocket Client Connected"),t.setState((function(t){t.connection.connection=!0,t.connection.server=!0}))},this.wsClient.onclose=function(){console.log("Data WebSocket Client Disconnected"),t.setState((function(t){t.connection.connection=!1,t.connection.server=!1}))},this.wsClient.onmessage=function(n){t.setState((function(t){var e=JSON.parse(n.data);t.data.rawData.push(e),t.data.HR.push(e.HR),t.data.SpO2.push(e.SpO2),t.data.HR.length>2&&(t.data.avgHR=(t.data.HR.reduce((function(t,n){return t+n}))/t.data.HR.length).toFixed(1),t.data.avgSpO2=(t.data.SpO2.reduce((function(t,n){return t+n}))/t.data.SpO2.length).toFixed(1)),t.data.HR.length>1e3&&(t.data.HR.shift(),t.data.SpO2.shift(),t.data.rawData.shift())}))},this.pingClient.onopen=function(){console.log("Ping WebSocket Client Connected"),t.interval=setInterval((function(){t.setState((function(t){return t.ping.pingEpoch=Date.now()})),t.pingClient.send(":)")}),200)},this.pingClient.onmessage=function(n){var e=Date.now();t.setState((function(t){t.ping.connectionPingMillis.push((e-t.ping.pingEpoch)/2),t.ping.connectionPingMillis.length>30&&t.ping.connectionPingMillis.shift(),t.ping.avgConnectionPing=Math.round(t.ping.connectionPingMillis.reduce((function(t,n){return t+n}))/t.ping.connectionPingMillis.length)}))}}},{key:"render",value:function(){var t=this;return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(O,{children:Object(i.jsx)(f,{children:Object(i.jsx)(v,{data:this.state.data})})}),Object(i.jsx)(O,{children:Object(i.jsx)(f,{children:Object(i.jsx)(j,{connection:this.state.connection,ping:this.state.ping.avgConnectionPing})})}),Object(i.jsx)(O,{children:Object(i.jsx)(b,{getData:function(){return{data:t.state.data.HR,avg:t.state.data.avgHR}}})}),Object(i.jsx)(O,{children:Object(i.jsx)(u,{uom:"\u2764",children:this.state.data.HR.length>2?this.state.data.avgHR:"Loading "})}),Object(i.jsx)(O,{children:Object(i.jsx)(b,{getData:function(){return{data:t.state.data.SpO2,avg:t.state.data.avgSpO2}}})}),Object(i.jsx)(O,{children:Object(i.jsx)(u,{uom:"%",children:this.state.data.SpO2.length>2?this.state.data.avgSpO2:"Loading "})})]})}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}],[[24,1,2]]]);
//# sourceMappingURL=main.79a4ec56.chunk.js.map